INSTALL
--------------------------------------------------------------------------------

Build with maven:
mvn package
mvn gwt:compile
mvn jetty:run
etcetera

Configuration of maven
--------------------------------------------------------------------------------
Example of .m2/settings.xml:

<?xml version="1.0" encoding="UTF-8"?>
 <settings>
   <profiles>
     <profile>
       <id>gwt-1.2.22</id>
       <properties>
         <google.webtoolkit.home>/usr/local/lib/gwt/gwt-mac-1.2.22</google.webtoolkit.home>
         <google.webtoolkit.extrajvmargs>-XstartOnFirstThread</google.webtoolkit.extrajvmargs>
       </properties>
     </profile>
     <profile>
       <id>gwt-1.3.3</id>
       <properties>
         <google.webtoolkit.home>/usr/local/lib/gwt/gwt-linux-1.3.3</google.webtoolkit.home>
        <!-- you only need this is you are on a mac -->
        <!-- <google.webtoolkit.extrajvmargs>-XstartOnFirstThread</google.webtoolkit.extrajvmargs> -->
      </properties>
     </profile>
     <profile>
       <id>gwt-1.4.60</id>
       <properties>
         <google.webtoolkit.home>/usr/local/lib/gwt/gwt-linux-1.4.60</google.webtoolkit.home>
        <!-- you only need this is you are on a mac -->
        <!-- <google.webtoolkit.extrajvmargs>-XstartOnFirstThread</google.webtoolkit.extrajvmargs> -->
        <!-- If you experiment java.lang.OutOfMemoryError compiling -->
        <!-- <google.webtoolkit.extrajvmargs>-Xmx250m</google.webtoolkit.extrajvmargs> -->
      </properties>
     </profile>
   </profiles>
   <activeProfiles>
     <activeProfile>gwt-1.4.60</activeProfile>
   </activeProfiles>
</settings>


The rest of dependencies must be downloaded automatically.

Integration with Openfire xmpp server
--------------------------------------------------------------------------------
Enable "HTTP Bind Settings" in OpenFire, and check the port is not used by other service in your machine.

Add this lines to conf/openfire.xml and check that the user/passwd of the db is the same here and in the persistence.xml:

<jive>
  ...
  <jdbcProvider>
    <driver>com.mysql.jdbc.Driver</driver>
    <connectionString>jdbc:mysql://localhost/kune_dev?user=kune&amp;password=db4kune&amp;useUnicode=true&amp;characterEncoding=utf-8</connectionString>
  </jdbcProvider>
  <provider>
    <auth>
      <className>org.jivesoftware.openfire.auth.JDBCAuthProvider</className>
    </auth>
  </provider>
  <jdbcAuthProvider>
     <passwordSQL>SELECT password FROM kusers WHERE shortName=?</passwordSQL>
     <passwordType>plain</passwordType>
   </jdbcAuthProvider>
  ...
</jive>

You'll most likely want to change which usernames are authorized to login to the admin console.
<jive>
...
<admin>
    <authorizedUsernames>site, admin</authorizedUsernames>
</admins>
...
</jive>

For more details:
http://www.igniterealtime.org/builds/openfire/docs/latest/documentation/db-integration-guide.html

