<!DOCTYPE document SYSTEM "src/main/java/gwt-module.dtd">
<module>
  <!-- Inherit the core Web Toolkit stuff.                  -->
  <inherits name='com.google.gwt.user.User' />
  <inherits name='com.google.gwt.i18n.I18N' />
  <inherits name="com.google.gwt.user.UserAgent" />
  <inherits name="org.ourproject.kune.platf.RichText" />

  <inherits name="com.google.gwt.libideas.ImmutableResources" />
  <inherits name="com.google.gwt.libideas.StyleInjector" />

  <public path="public" />

      <inherits name="com.google.gwt.user.UserAgent" />
    <!-- RTE css inject -->
    <!-- See gwt-user: com/google/gwt/user/RichText.gwt.xml -->

    <!-- IE-specific implementation -->
    <replace-with
        class="org.ourproject.kune.platf.client.ui.rte.WrappedRichTextAreaImplIE6">
        <when-type-is
            class="org.ourproject.kune.platf.client.ui.rte.impl.RichTextAreaImpl" />
        <when-property-is name="user.agent" value="ie6" />
    </replace-with>

    <!-- Mozilla-specific implementation -->
    <replace-with
        class="org.ourproject.kune.platf.client.ui.rte.WrappedRichTextAreaImplMozilla">
        <when-type-is
            class="org.ourproject.kune.platf.client.ui.rte.impl.RichTextAreaImpl" />
        <any>
            <when-property-is name="user.agent" value="gecko1_8" />
            <when-property-is name="user.agent" value="gecko" />
        </any>
    </replace-with>

    <!-- Safari-specific implementation -->
    <replace-with
        class="org.ourproject.kune.platf.client.ui.rte.WrappedRichTextAreaImplSafari">
        <when-type-is
            class="org.ourproject.kune.platf.client.ui.rte.impl.RichTextAreaImpl" />
        <any>
            <when-property-is name="user.agent" value="safari" />
        </any>
    </replace-with>

    <!-- Opera-specific implementation -->
    <replace-with
        class="org.ourproject.kune.platf.client.ui.rte.WrappedRichTextAreaImplOpera">
        <when-type-is
            class="org.ourproject.kune.platf.client.ui.rte.impl.RichTextAreaImpl" />
        <any>
            <when-property-is name="user.agent" value="opera" />
        </any>
    </replace-with>


</module>
